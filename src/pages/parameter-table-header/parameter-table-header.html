<!--
  Generated template for the ParameterTableHeaderPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>
    <ion-title>Parameter Table Header</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <form [formGroup]="pmhform" (ngSubmit)="onSubmit(pmhform.value)">
    
    <p-panel header="Parameter table header management" [toggleable]="true" [style]="{'margin-bottom':'20px'}">
        <p-growl [value]="msgs" sticky="sticky"></p-growl>
           
            <button pButton type="submit" [disabled]="!pmhform.valid" class="ui-button-primary" icon="fa-check" label="{{btnLabel}}"></button>
            <button pButton type="button" class="ui-button-info" icon="fa-search" label="Search"></button>
            <button pButton type="button" class="ui-button-warning" icon="fa-refresh" label="Reset" (click)="formReset()"></button>
    
            <button pButton *ngIf="isModify" type="button" class="ui-button-danger" icon="fa-close" label="Cancle" (click)="cancleUpdate()"></button>
            <br><br>
    
           <!--  <p-panel header=""> -->
                <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-1">
                            PTCode *:
                        </div>
                        <div class="ui-grid-col-6">
                            <input pInputText type="hidden" formControlName="pHeaderId" />
                            <input pInputText type="text" formControlName="pHeaderCode" placeholder="Required"/>
                        </div>
                        <div class="ui-grid-col-5">
                            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!pmhform.controls['pHeaderCode'].valid&&pmhform.controls['pHeaderCode'].dirty">
                                <i class="fa fa-close"></i>
                                PTCode is required
                            </div>
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-1">
                            PTName *:
                        </div>
                        <div class="ui-grid-col-6">
                            <input pInputText type="text" formControlName="pHeaderName" placeholder="Required"/>
                        </div>
                        <div class="ui-grid-col-5">
                            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!pmhform.controls['pHeaderName'].valid&&pmhform.controls['pHeaderName'].dirty">
                                <i class="fa fa-close"></i>
                                PTName is required
                            </div>
                        </div>
                    </div>
                 
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-1">
                            Description:
                        </div>
                        <div class="ui-grid-col-6">
                            <textarea pInputTextarea type="text" formControlName="pHeaderDescription"></textarea>
                        </div>
                        <div class="ui-grid-col-5"></div>
                    </div>
                    
                   
                   
                </div>
    </p-panel>
    
    </form>
    
    <p-dataTable [value]="parameterTableHeaders"
                 dataKey="pHeaderId"
                 [(selection)]="selectedParameterTableHeader"
    
                 [rows]="5" 
                 [paginator]="true"
                 [pageLinks]="5" 
                 [rowsPerPageOptions]="[5,10,20]"
                 
                 [lazy]="true"
                 [totalRecords]="totalRecords" 
                 (onLazyLoad)="loadParameterTableHeaderLazy($event)"
                 >
    
        <p-column [style]="{'width':'38px'}" selectionMode="multiple"></p-column>
        <p-column styleClass="col-button" [style]="{'width': '50px'}">
            <ng-template pTemplate="header">
                <button type="button" pButton icon="fa-trash" class="ui-button-danger" (click)="onRemove()"></button></ng-template>
            <ng-template let-parameterTableHeader="rowData" pTemplate="body">
                <button type="button" pButton (click)="selectParameterTableHeader(parameterTableHeader)" icon="fa-edit"></button>
            </ng-template>
        </p-column>
    
        <p-column field="pHeaderId" hidden="true" header="pHeaderId"></p-column>
        <p-column field="pHeaderCode" header="pHeaderCode" 
                        [sortable]="true" 
                        [filter]="true" 
                        filterPlaceholder="pHeaderCode">
                    </p-column>
        <p-column field="pHeaderName" header="pHeaderName" 
                        [sortable]="true" 
                        [filter]="true" 
                        filterPlaceholder="pHeaderName"></p-column>
        <p-column field="pHeaderDescription" header="pHeaderDescription" 
                        [sortable]="true"
                        [filter]="true" 
                        filterPlaceholder="pHeaderDescription"></p-column>
    
    </p-dataTable>

</ion-content>
